import org.assertj.swing.core.matcher.JButtonMatcher;
import org.assertj.swing.fixture.FrameFixture;
import org.assertj.swing.junit.testcase.AssertJSwingJUnitTestCase;
import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

public class PinTest extends AssertJSwingJUnitTestCase {

    private FrameFixture window;

    @Override
    protected void onSetUp() {
        Pin pinWindow = executeInEDTAndWait(Pin::new);
        window = new FrameFixture(robot(), pinWindow);
        window.show(); // Show the window
    }

    @Test
    public void testChangePIN() {
        // Simulate user input
        window.textBox().enterText("1234");
        window.textBox("Re-Enter New PIN: ").enterText("1234");

        // Click the change button
        window.button(JButtonMatcher.withText("CHANGE")).click();

        // Verify if the PIN change was successful
        assertThat(window.dialog().label().text()).isEqualTo("PIN changed successfully");
    }

    @Test
    public void testBackButton() {
        // Click the back button
        window.button(JButtonMatcher.withText("BACK")).click();

        // Verify if the main window is displayed after clicking back
        assertThat(window.frame().title()).isEqualTo("Main Window Title");
    }
}
